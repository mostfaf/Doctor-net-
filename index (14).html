<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ø¯ÙƒØªÙˆØ± Ù†Øª - Ø£Ø¯ÙˆØ§Øª Ù…Ø§ÙŠÙƒØ±ÙˆØªÙƒ</title>
  <style>
    * {
      -webkit-transition: all .3s ease-in;
      -moz-transition: all .3s ease-in;
      -ms-transition: all .3s ease-in;
      transition: all .3s ease-in;
      box-sizing: border-box;
    }
    body, div, span, ul, li, h1, h2, form, input, textarea, p {
      margin: 0;
      padding: 0;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      color: #292929;
      height: 100%;
      width: 100%;
      margin-top: 0;
      padding: 0;
      font-size: 14px;
      background: #292929;
      line-height: normal;
    }
    #wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 5px;
    }
    .logo {
      margin-top: 15px;
      color: #ddd;
      text-decoration: none;
      font-size: 25px;
      font-weight: 700;
      text-align: center;
    }
    .logo a {
      color: #fff !important;
      text-decoration: none !important;
    }
    .credit {
      color: #fff;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      margin: 10px 0;
    }
    .main-wrap {
      display: flex;
    }
    .content {
      float: right;
      width: 66%;
      padding: 15px;
      border-top: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
      border-right: 1px solid #ccc;
      background: #eee;
      border-radius: 0 5px 5px 0;
      font-size: 14px;
    }
    .sidebar {
      float: left;
      width: 34%;
      background-color: #eee;
      border: 1px solid #ccc;
      border-radius: 5px 0 0 5px;
      padding: 15px;
    }
    .sidebar ul {
      list-style: none;
    }
    .sidebar li {
      margin-bottom: 10px;
    }
    .sidebar a {
      color: #292929;
      text-decoration: none;
      font-size: 14px;
    }
    .sidebar a:hover {
      color: #4CAF50;
    }
    label {
      display: block;
      font-size: 14px;
      margin-bottom: 5px;
      color: #292929;
    }
    select, input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    button {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    .add-btn, .remove-btn {
      width: auto;
      padding: 5px 10px;
      background-color: #2196F3;
      color: #ffffff;
      margin-left: 10px;
      display: inline-block;
    }
    .remove-btn {
      background-color: #f44336;
    }
    #submit {
      background-color: #4CAF50;
      color: #ffffff;
    }
    #submit:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    #copy {
      background-color: #000000;
      color: #ffffff;
    }
    #answer-text {
      width: 100%;
      height: 200px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 12px;
      resize: none;
      direction: ltr;
    }
    #answer {
      display: none;
      margin-top: 20px;
    }
    #error {
      color: #ff0000;
      font-size: 12px;
      margin-top: 10px;
      display: none;
    }
    .disclaimer {
      font-size: 12px;
      color: #666;
      text-align: center;
      margin-top: 20px;
    }
    .input-group {
      border: 1px dashed #ccc;
      padding: 10px;
      margin-bottom: 15px;
      position: relative;
    }
    @media (max-width: 768px) {
      .main-wrap {
        flex-direction: column;
      }
      .content, .sidebar {
        width: 100%;
        border-radius: 5px;
      }
      .content {
        border-right: none;
      }
      .sidebar {
        margin-top: 15px;
      }
      .logo {
        font-size: 20px;
      }
      .credit {
        font-size: 16px;
      }
      select, input[type="text"], button, #answer-text {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <div id="wrap">
    <div class="header">
      <div class="logo"><a href="#">Ø¯ÙƒØªÙˆØ± Ù†Øª</a></div>
      <div class="credit">Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„Ø¯ÙƒØªÙˆØ± Ù…ØµØ·ÙÙ‰ Ø¹Ø§Ø·Ù Ø§Ù„Ø´ÙˆØ±Ù‰ (Ø¯ÙƒØªÙˆØ± Ù†Øª) ğŸ¥</div>
    </div>
    <div class="main-wrap">
      <div class="content">
        <label for="tool">Ø§Ø®ØªØ± Ø§Ù„Ø£Ø¯Ø§Ø©:</label>
        <select id="tool">
          <option value="simple-queue">Ù…ÙˆÙ„Ø¯ Simple Queue</option>
          <option value="queue-tree">Ù…ÙˆÙ„Ø¯ Queue Tree</option>
          <option value="pcq">Ù…ÙˆÙ„Ø¯ PCQ</option>
          <option value="load-balancing-pcc">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ PCC</option>
          <option value="load-balancing-ecmp">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ ECMP</option>
          <option value="load-balancing-nth">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ NTH</option>
          <option value="vpn-pptp">Ù†ÙÙ‚ VPN PPTP</option>
          <option value="vpn-l2tp">Ù†ÙÙ‚ VPN L2TP</option>
          <option value="vpn-openvpn">Ù†ÙÙ‚ VPN OpenVPN</option>
          <option value="firewall-basic">Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ø£Ø³Ø§Ø³ÙŠ</option>
          <option value="firewall-advanced">Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…</option>
          <option value="firewall-block-social">Ø­Ø¸Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„</option>
          <option value="netwatch">Netwatch</option>
          <option value="dhcp-server">Ø®Ø§Ø¯Ù… DHCP</option>
          <option value="dns-doh">DNS over HTTPS (DoH)</option>
          <option value="dns-dot">DNS over TLS (DoT)</option>
          <option value="hotspot-setup">Ø¥Ø¹Ø¯Ø§Ø¯ Hotspot</option>
          <option value="hotspot-qr">Hotspot ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</option>
          <option value="wireless-optimization">ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ</option>
          <option value="capsman">Ø¥Ø¹Ø¯Ø§Ø¯ CAPsMAN</option>
          <option value="static-routing">ØªÙˆØ¬ÙŠÙ‡ Ø«Ø§Ø¨Øª</option>
          <option value="ospf">Ø¥Ø¹Ø¯Ø§Ø¯ OSPF</option>
          <option value="ipsec">Ø¥Ø¹Ø¯Ø§Ø¯ IPsec</option>
          <option value="pppoe-server">Ø®Ø§Ø¯Ù… PPPoE</option>
          <option value="pppoe-client">Ø¹Ù…ÙŠÙ„ PPPoE</option>
          <option value="vrrp">Ø¥Ø¹Ø¯Ø§Ø¯ VRRP</option>
          <option value="traffic-monitor">Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø±ÙƒØ©</option>
          <option value="port-knocking">Port Knocking</option>
          <option value="ipv6-addressing">Ø¹Ù†Ø§ÙˆÙŠÙ† IPv6</option>
          <option value="dhcpv6">Ø®Ø§Ø¯Ù… DHCPv6</option>
          <option value="scheduled-script">Ø³ÙƒØ±Ø¨Øª Ù…Ø¬Ø¯ÙˆÙ„</option>
          <option value="backup-script">Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</option>
          <option value="general">Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù…</option>
        </select>
        <div id="inputs"></div>
        <button id="submit">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª</button>
        <p id="error"></p>
        <div id="answer">
          <textarea id="answer-text" readonly></textarea>
          <button id="copy">Ù†Ø³Ø® Ø§Ù„Ø³ÙƒØ±Ø¨Øª</button>
        </div>
      </div>
      <div class="sidebar">
        <ul>
          <li><a href="#" data-tool="simple-queue">Ù…ÙˆÙ„Ø¯ Simple Queue</a></li>
          <li><a href="#" data-tool="queue-tree">Ù…ÙˆÙ„Ø¯ Queue Tree</a></li>
          <li><a href="#" data-tool="pcq">Ù…ÙˆÙ„Ø¯ PCQ</a></li>
          <li><a href="#" data-tool="load-balancing-pcc">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ PCC</a></li>
          <li><a href="#" data-tool="load-balancing-ecmp">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ ECMP</a></li>
          <li><a href="#" data-tool="load-balancing-nth">Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ NTH</a></li>
          <li><a href="#" data-tool="vpn-pptp">Ù†ÙÙ‚ VPN PPTP</a></li>
          <li><a href="#" data-tool="vpn-l2tp">Ù†ÙÙ‚ VPN L2TP</a></li>
          <li><a href="#" data-tool="vpn-openvpn">Ù†ÙÙ‚ VPN OpenVPN</a></li>
          <li><a href="#" data-tool="firewall-basic">Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ø£Ø³Ø§Ø³ÙŠ</a></li>
          <li><a href="#" data-tool="firewall-advanced">Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…</a></li>
          <li><a href="#" data-tool="firewall-block-social">Ø­Ø¸Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„</a></li>
          <li><a href="#" data-tool="netwatch">Netwatch</a></li>
          <li><a href="#" data-tool="dhcp-server">Ø®Ø§Ø¯Ù… DHCP</a></li>
          <li><a href="#" data-tool="dns-doh">DNS over HTTPS (DoH)</a></li>
          <li><a href="#" data-tool="dns-dot">DNS over TLS (DoT)</a></li>
          <li><a href="#" data-tool="hotspot-setup">Ø¥Ø¹Ø¯Ø§Ø¯ Hotspot</a></li>
          <li><a href="#" data-tool="hotspot-qr">Hotspot ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></li>
          <li><a href="#" data-tool="wireless-optimization">ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ</a></li>
          <li><a href="#" data-tool="capsman">Ø¥Ø¹Ø¯Ø§Ø¯ CAPsMAN</a></li>
          <li><a href="#" data-tool="static-routing">ØªÙˆØ¬ÙŠÙ‡ Ø«Ø§Ø¨Øª</a></li>
          <li><a href="#" data-tool="ospf">Ø¥Ø¹Ø¯Ø§Ø¯ OSPF</a></li>
          <li><a href="#" data-tool="ipsec">Ø¥Ø¹Ø¯Ø§Ø¯ IPsec</a></li>
          <li><a href="#" data-tool="pppoe-server">Ø®Ø§Ø¯Ù… PPPoE</a></li>
          <li><a href="#" data-tool="pppoe-client">Ø¹Ù…ÙŠÙ„ PPPoE</a></li>
          <li><a href="#" data-tool="vrrp">Ø¥Ø¹Ø¯Ø§Ø¯ VRRP</a></li>
          <li><a href="#" data-tool="traffic-monitor">Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø±ÙƒØ©</a></li>
          <li><a href="#" data-tool="port-knocking">Port Knocking</a></li>
          <li><a href="#" data-tool="ipv6-addressing">Ø¹Ù†Ø§ÙˆÙŠÙ† IPv6</a></li>
          <li><a href="#" data-tool="dhcpv6">Ø®Ø§Ø¯Ù… DHCPv6</a></li>
          <li><a href="#" data-tool="scheduled-script">Ø³ÙƒØ±Ø¨Øª Ù…Ø¬Ø¯ÙˆÙ„</a></li>
          <li><a href="#" data-tool="backup-script">Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</a></li>
          <li><a href="#" data-tool="general">Ø³Ø¤Ø§Ù„ Ø¹Ø§Ù…</a></li>
        </ul>
      </div>
    </div>
    <p class="disclaimer">
      ØªÙ†Ø¨ÙŠÙ‡: Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ø¨Ø­Ø°Ø±. Ø¯ÙƒØªÙˆØ± Ù†Øª ØºÙŠØ± Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø£ÙŠ Ø£Ø¶Ø±Ø§Ø± Ù†Ø§ØªØ¬Ø© Ø¹Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯ÙˆØ§Øª. Ø§Ù„Ø£Ø¯ÙˆØ§Øª ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ‚Ù„ ÙˆÙ„ÙŠØ³Øª ØªØ§Ø¨Ø¹Ø© Ù„Ø´Ø±ÙƒØ© MikroTik.
    </p>
  </div>
  <script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© Ù…ÙˆØ³Ø¹Ø© Ù„Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª (Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† https://wiki.mikrotik.com Ùˆ https://buananetpbun.github.io/)
    const toolsDatabase = {
      'simple-queue': {
        description: 'Ù…ÙˆÙ„Ø¯ Simple Queue Ù„ØªØ­Ø¯ÙŠØ¯ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
        inputs: [
          { id: 'ip', label: 'Ø¹Ù†ÙˆØ§Ù† IP', placeholder: '192.168.1.2' },
          { id: 'speed', label: 'Ø§Ù„Ø³Ø±Ø¹Ø© (ØªØ­Ù…ÙŠÙ„/Ø±ÙØ¹)', placeholder: '2M/2M' },
          { id: 'name', label: 'Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„', placeholder: 'client1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/queue simple\n';
          entries.forEach((params, index) => {
            const ip = params.ip || `192.168.1.${index + 2}`;
            const speed = params.speed || '2M/2M';
            const name = params.name || `client${index + 1}`;
            script += `add max-limit=${speed} name=${name} target=${ip}/32\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'queue-tree': {
        description: 'Ù…ÙˆÙ„Ø¯ Queue Tree Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ±Ø¯Ø¯ÙŠ',
        inputs: [
          { id: 'name', label: 'Ø§Ø³Ù… Queue', placeholder: 'queue1' },
          { id: 'limit', label: 'Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰', placeholder: '10M' },
          { id: 'parent', label: 'Ø§Ù„Ø£ØµÙ„', placeholder: 'global' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/queue tree\n';
          entries.forEach((params, index) => {
            const name = params.name || `queue${index + 1}`;
            const limit = params.limit || '10M';
            const parent = params.parent || 'global';
            script += `add name=${name} parent=${parent} max-limit=${limit}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'pcq': {
        description: 'Ù…ÙˆÙ„Ø¯ PCQ Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ±Ø¯Ø¯ÙŠ Ø¨Ø§Ù„ØªØ³Ø§ÙˆÙŠ',
        inputs: [
          { id: 'name', label: 'Ø§Ø³Ù… PCQ', placeholder: 'pcq1' },
          { id: 'rate', label: 'Ø§Ù„Ø³Ø±Ø¹Ø© Ù„ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù…', placeholder: '1M' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/queue type\n';
          entries.forEach((params, index) => {
            const name = params.name || `pcq${index + 1}`;
            const rate = params.rate || '1M';
            script += `add kind=pcq name=${name} pcq-rate=${rate}\n`;
          });
          script += '/queue tree\n';
          entries.forEach((params, index) => {
            const name = params.name || `pcq${index + 1}`;
            script += `add name=${name} parent=global queue=${name}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'load-balancing-pcc': {
        description: 'Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ PCC Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ù…Ù„',
        inputs: [
          { id: 'wanIp', label: 'Ø¹Ù†ÙˆØ§Ù† IP Ù„Ù€ WAN', placeholder: '192.168.1.2' },
          { id: 'wanGw', label: 'Ø¨ÙˆØ§Ø¨Ø© WAN', placeholder: '192.168.1.1' },
          { id: 'wanInterface', label: 'ÙˆØ§Ø¬Ù‡Ø© WAN', placeholder: 'ether1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip address\n';
          entries.forEach((params, index) => {
            const wanIp = params.wanIp || `192.168.${index + 1}.2`;
            const wanInterface = params.wanInterface || `ether${index + 1}`;
            script += `add address=${wanIp}/24 interface=${wanInterface}\n`;
          });
          script += '/ip route\n';
          const gateways = entries.map((params, index) => params.wanGw || `192.168.${index + 1}.1`).join(',');
          script += `add dst-address=0.0.0.0/0 gateway=${gateways}\n`;
          script += '/ip firewall mangle\n';
          entries.forEach((params, index) => {
            script += `add chain=prerouting dst-address-type=!local in-interface=lan per-connection-classifier=both-addresses:${entries.length}/${index} action=mark-connection new-connection-mark=wan${index + 1}_conn passthrough=yes\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'load-balancing-ecmp': {
        description: 'Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ ECMP Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ù…Ù„',
        inputs: [
          { id: 'wanIp', label: 'Ø¹Ù†ÙˆØ§Ù† IP Ù„Ù€ WAN', placeholder: '192.168.1.2' },
          { id: 'wanGw', label: 'Ø¨ÙˆØ§Ø¨Ø© WAN', placeholder: '192.168.1.1' },
          { id: 'wanInterface', label: 'ÙˆØ§Ø¬Ù‡Ø© WAN', placeholder: 'ether1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip address\n';
          entries.forEach((params, index) => {
            const wanIp = params.wanIp || `192.168.${index + 1}.2`;
            const wanInterface = params.wanInterface || `ether${index + 1}`;
            script += `add address=${wanIp}/24 interface=${wanInterface}\n`;
          });
          script += '/ip route\n';
          const gateways = entries.map((params, index) => params.wanGw || `192.168.${index + 1}.1`).join(',');
          script += `add dst-address=0.0.0.0/0 gateway=${gateways}\n`;
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'load-balancing-nth': {
        description: 'Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ø­Ù…Ù„ NTH Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­Ù…Ù„',
        inputs: [
          { id: 'wanIp', label: 'Ø¹Ù†ÙˆØ§Ù† IP Ù„Ù€ WAN', placeholder: '192.168.1.2' },
          { id: 'wanGw', label: 'Ø¨ÙˆØ§Ø¨Ø© WAN', placeholder: '192.168.1.1' },
          { id: 'wanInterface', label: 'ÙˆØ§Ø¬Ù‡Ø© WAN', placeholder: 'ether1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip address\n';
          entries.forEach((params, index) => {
            const wanIp = params.wanIp || `192.168.${index + 1}.2`;
            const wanInterface = params.wanInterface || `ether${index + 1}`;
            script += `add address=${wanIp}/24 interface=${wanInterface}\n`;
          });
          script += '/ip firewall mangle\n';
          entries.forEach((params, index) => {
            script += `add chain=prerouting dst-address-type=!local in-interface=lan nth=${entries.length},${index} action=mark-routing new-routing-mark=to_wan${index + 1} passthrough=yes\n`;
          });
          script += '/ip route\n';
          entries.forEach((params, index) => {
            const wanGw = params.wanGw || `192.168.${index + 1}.1`;
            script += `add dst-address=0.0.0.0/0 gateway=${wanGw} routing-mark=to_wan${index + 1}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'vpn-pptp': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ù†ÙÙ‚ VPN PPTP',
        inputs: [
          { id: 'server', label: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù…', placeholder: 'vpn.server.com' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'vpnuser' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'vpnpass' },
          { id: 'interface', label: 'Ø§Ø³Ù… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'pptp-out1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface pptp-client\n';
          entries.forEach((params, index) => {
            const server = params.server || 'vpn.server.com';
            const user = params.user || `vpnuser${index + 1}`;
            const pass = params.pass || 'vpnpass';
            const interface = params.interface || `pptp-out${index + 1}`;
            script += `add connect-to=${server} user=${user} password=${pass} name=${interface}\n`;
          });
          script += '/ip route\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `pptp-out${index + 1}`;
            script += `add dst-address=0.0.0.0/0 gateway=${interface}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'vpn-l2tp': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ù†ÙÙ‚ VPN L2TP',
        inputs: [
          { id: 'server', label: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù…', placeholder: 'vpn.server.com' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'vpnuser' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'vpnpass' },
          { id: 'interface', label: 'Ø§Ø³Ù… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'l2tp-out1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface l2tp-client\n';
          entries.forEach((params, index) => {
            const server = params.server || 'vpn.server.com';
            const user = params.user || `vpnuser${index + 1}`;
            const pass = params.pass || 'vpnpass';
            const interface = params.interface || `l2tp-out${index + 1}`;
            script += `add connect-to=${server} user=${user} password=${pass} name=${interface}\n`;
          });
          script += '/ip route\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `l2tp-out${index + 1}`;
            script += `add dst-address=0.0.0.0/0 gateway=${interface}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'vpn-openvpn': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ù†ÙÙ‚ VPN OpenVPN',
        inputs: [
          { id: 'server', label: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù…', placeholder: 'vpn.server.com' },
          { id: 'port', label: 'Ø§Ù„Ù…Ù†ÙØ°', placeholder: '1194' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'vpnuser' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'vpnpass' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface ovpn-client\n';
          entries.forEach((params, index) => {
            const server = params.server || 'vpn.server.com';
            const port = params.port || '1194';
            const user = params.user || `vpnuser${index + 1}`;
            const pass = params.pass || 'vpnpass';
            script += `add connect-to=${server} port=${port} user=${user} password=${pass} name=ovpn${index + 1}\n`;
          });
          script += '# Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªØ·Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯ Ø´Ù‡Ø§Ø¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…\n';
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'firewall-basic': {
        description: 'Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ø£Ø³Ø§Ø³ÙŠ Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø±Ø§ÙˆØªØ±',
        inputs: [],
        script: function() {
          return `/ip firewall filter
add action=accept chain=input protocol=icmp comment="Allow ICMP"
add action=drop chain=input comment="Drop all else"
# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª`;
        }
      },
      'firewall-advanced': {
        description: 'Ø¬Ø¯Ø§Ø± Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ø­Ù…Ø§ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©',
        inputs: [
          { id: 'port', label: 'Ø§Ù„Ù…Ù†ÙØ°', placeholder: '80' },
          { id: 'protocol', label: 'Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„', placeholder: 'tcp' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip firewall filter\n';
          entries.forEach((params, index) => {
            const port = params.port || '80';
            const protocol = params.protocol || 'tcp';
            script += `add action=accept chain=input protocol=${protocol} dst-port=${port} comment="Allow ${protocol} port ${port}"\n`;
          });
          script += `add action=drop chain=input comment="Drop all else"\n`;
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'firewall-block-social': {
        description: 'Ø­Ø¸Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ',
        inputs: [
          { id: 'site', label: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ù…Ø«Ù„ YouTube)', placeholder: 'YouTube' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip firewall filter\n';
          entries.forEach((params, index) => {
            const site = params.site || `site${index + 1}`;
            script += `add action=drop chain=forward dst-address-list="Mikrotik-${site}" comment="Block ${site} - Ø¯ÙƒØªÙˆØ± Ù†Øª"\n`;
          });
          script += '# Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Mikrotik-<site> ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… /ip firewall address-list\n';
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'netwatch': {
        description: 'Netwatch Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„',
        inputs: [
          { id: 'host', label: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø¶ÙŠÙ', placeholder: '8.8.8.8' },
          { id: 'upScript', label: 'Ø³ÙƒØ±Ø¨Øª Up', placeholder: '/system script run up-script' },
          { id: 'downScript', label: 'Ø³ÙƒØ±Ø¨Øª Down', placeholder: '/system script run down-script' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/tool netwatch\n';
          entries.forEach((params, index) => {
            const host = params.host || `8.8.8.${index + 8}`;
            const upScript = params.upScript || '/system script run up-script';
            const downScript = params.downScript || '/system script run down-script';
            script += `add host=${host} interval=10s up-script="${upScript}" down-script="${downScript}"\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'dhcp-server': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø¯Ù… DHCP',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether2' },
          { id: 'gateway', label: 'Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©', placeholder: '192.168.1.1' },
          { id: 'pool', label: 'Ù†Ø·Ø§Ù‚ IP', placeholder: '192.168.1.2-192.168.1.254' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip pool\n';
          entries.forEach((params, index) => {
            const pool = params.pool || `192.168.${index + 1}.2-192.168.${index + 1}.254`;
            script += `add name=dhcp_pool${index + 1} ranges=${pool}\n`;
          });
          script += '/ip dhcp-server\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 2}`;
            script += `add name=dhcp${index + 1} interface=${interface} address-pool=dhcp_pool${index + 1}\n`;
          });
          script += '/ip dhcp-server network\n';
          entries.forEach((params, index) => {
            const gateway = params.gateway || `192.168.${index + 1}.1`;
            script += `add address=192.168.${index + 1}.0/24 gateway=${gateway}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'dns-doh': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ DNS over HTTPS (DoH)',
        inputs: [
          { id: 'dohServer', label: 'Ø®Ø§Ø¯Ù… DoH', placeholder: 'dns.google' }
        ],
        repeatable: false,
        script: function(params) {
          const dohServer = params.dohServer || 'dns.google';
          return `/ip dns
set allow-remote-requests=yes use-doh-server=https://${dohServer}/dns-query verify-doh-cert=yes
# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª`;
        }
      },
      'dns-dot': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ DNS over TLS (DoT)',
        inputs: [
          { id: 'dotServer', label: 'Ø®Ø§Ø¯Ù… DoT', placeholder: '1.1.1.1' }
        ],
        repeatable: false,
        script: function(params) {
          const dotServer = params.dotServer || '1.1.1.1';
          return `/ip dns
set servers=${dotServer} use-dot=yes
# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª`;
        }
      },
      'hotspot-setup': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Hotspot Ø¨Ø³ÙŠØ·',
        inputs: [
          { id: 'interface', label: 'ÙˆØ§Ø¬Ù‡Ø© Hotspot', placeholder: 'wlan1' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'user1' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'pass123' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip hotspot\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `wlan${index + 1}`;
            script += `add name=hotspot${index + 1} interface=${interface}\n`;
          });
          script += '/ip hotspot user\n';
          entries.forEach((params, index) => {
            const user = params.user || `user${index + 1}`;
            const pass = params.pass || 'pass123';
            script += `add name=${user} password=${pass}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'hotspot-qr': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù ØªØ¹Ø±ÙŠÙ Hotspot Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
        inputs: [
          { id: 'ssid', label: 'Ø§Ø³Ù… SSID', placeholder: 'MyHotspot' },
          { id: 'password', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'pass123' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip hotspot profile\n';
          entries.forEach((params, index) => {
            const ssid = params.ssid || `MyHotspot${index + 1}`;
            const password = params.password || 'pass123';
            script += `add name=profile${index + 1} login-by=http-pap,http-chap hotspot-address=192.168.${index + 1}.1 ssid=${ssid} password=${password}\n`;
          });
          script += '# Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² QRØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯Ø§Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n';
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'wireless-optimization': {
        description: 'ØªØ­Ø³ÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ',
        inputs: [
          { id: 'channel', label: 'Ø§Ù„Ù‚Ù†Ø§Ø©', placeholder: '6' },
          { id: 'band', label: 'Ø§Ù„Ù†Ø·Ø§Ù‚', placeholder: '2.4ghz' },
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'wlan1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface wireless\n';
          entries.forEach((params, index) => {
            const channel = params.channel || '6';
            const band = params.band || '2.4ghz';
            const interface = params.interface || `wlan${index + 1}`;
            script += `set ${interface} channel=${channel} band=${band}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'capsman': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ CAPsMAN Ù„Ø¥Ø¯Ø§Ø±Ø© Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆØµÙˆÙ„',
        inputs: [
          { id: 'name', label: 'Ø§Ø³Ù… CAPsMAN', placeholder: 'capsman1' },
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'wlan1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/caps-man manager\n';
          script += 'set enabled=yes\n';
          script += '/caps-man configuration\n';
          entries.forEach((params, index) => {
            const name = params.name || `capsman${index + 1}`;
            const interface = params.interface || `wlan${index + 1}`;
            script += `add name=${name} ssid=${name} interfaces=${interface}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'static-routing': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ ØªÙˆØ¬ÙŠÙ‡ Ø«Ø§Ø¨Øª',
        inputs: [
          { id: 'dst', label: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ¬Ù‡Ø©', placeholder: '192.168.2.0/24' },
          { id: 'gateway', label: 'Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©', placeholder: '192.168.1.1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip route\n';
          entries.forEach((params, index) => {
            const dst = params.dst || `192.168.${index + 2}.0/24`;
            const gateway = params.gateway || `192.168.1.1`;
            script += `add dst-address=${dst} gateway=${gateway}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'ospf': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ OSPF',
        inputs: [
          { id: 'area', label: 'Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ù†Ø·Ù‚Ø©', placeholder: '0.0.0.0' },
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/routing ospf instance\n';
          script += 'set [find default=yes] router-id=0.0.0.0\n';
          script += '/routing ospf interface\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            script += `add interface=${interface}\n`;
          });
          script += '/routing ospf area\n';
          entries.forEach((params, index) => {
            const area = params.area || '0.0.0.0';
            script += `add area-id=${area} name=area${index + 1}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'ipsec': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ IPsec Ù„Ù„ØªØ´ÙÙŠØ±',
        inputs: [
          { id: 'peer', label: 'Ø¹Ù†ÙˆØ§Ù† Peer', placeholder: '192.168.1.2' },
          { id: 'secret', label: 'Ù…ÙØªØ§Ø­ Ù…Ø´ØªØ±Ùƒ', placeholder: 'mysecret' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip ipsec peer\n';
          entries.forEach((params, index) => {
            const peer = params.peer || `192.168.1.${index + 2}`;
            const secret = params.secret || 'mysecret';
            script += `add address=${peer} secret=${secret}\n`;
          });
          script += '/ip ipsec policy\n';
          entries.forEach((params, index) => {
            script += `add src-address=0.0.0.0/0 dst-address=0.0.0.0/0 action=encrypt\n`;
          });
          script += '# Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªØ·Ù„Ø¨ ØªÙƒÙˆÙŠÙ† Ù…ÙØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙÙŠÙ†\n';
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'pppoe-server': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø¯Ù… PPPoE',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether2' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'user1' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'pass123' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ppp profile\n';
          script += 'add name=pppoe-profile\n';
          script += '/interface pppoe-server server\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 2}`;
            script += `add service-name=pppoe${index + 1} interface=${interface} profile=pppoe-profile\n`;
          });
          script += '/ppp secret\n';
          entries.forEach((params, index) => {
            const user = params.user || `user${index + 1}`;
            const pass = params.pass || 'pass123';
            script += `add name=${user} password=${pass} service=pppoe\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'pppoe-client': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø¹Ù…ÙŠÙ„ PPPoE',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' },
          { id: 'user', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', placeholder: 'user1' },
          { id: 'pass', label: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', placeholder: 'pass123' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface pppoe-client\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            const user = params.user || `user${index + 1}`;
            const pass = params.pass || 'pass123';
            script += `add interface=${interface} user=${user} password=${pass} name=pppoe${index + 1}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'vrrp': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ VRRP Ù„Ù„ØªÙƒØ±Ø§Ø±',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' },
          { id: 'virtualIp', label: 'Ø¹Ù†ÙˆØ§Ù† IP Ø§ÙØªØ±Ø§Ø¶ÙŠ', placeholder: '192.168.1.254' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/interface vrrp\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            const virtualIp = params.virtualIp || `192.168.1.${254 - index}`;
            script += `add interface=${interface} vrid=${index + 1} virtual-router-ip=${virtualIp}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'traffic-monitor': {
        description: 'Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±ÙŠØ©',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/tool traffic-monitor\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            script += `add interface=${interface} name=monitor${index + 1}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'port-knocking': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Port Knocking Ù„Ù„Ø£Ù…Ø§Ù†',
        inputs: [
          { id: 'port', label: 'Ø§Ù„Ù…Ù†ÙØ°', placeholder: '12345' },
          { id: 'protocol', label: 'Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„', placeholder: 'tcp' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ip firewall filter\n';
          entries.forEach((params, index) => {
            const port = params.port || `123${index + 45}`;
            const protocol = params.protocol || 'tcp';
            script += `add chain=input protocol=${protocol} dst-port=${port} action=add-src-to-address-list address-list=allowed comment="Port Knocking ${port}"\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'ipv6-addressing': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ÙˆÙŠÙ† IPv6',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' },
          { id: 'address', label: 'Ø¹Ù†ÙˆØ§Ù† IPv6', placeholder: '2001:db8::1/64' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ipv6 address\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            const address = params.address || `2001:db8::${index + 1}/64`;
            script += `add address=${address} interface=${interface}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'dhcpv6': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø¯Ù… DHCPv6',
        inputs: [
          { id: 'interface', label: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', placeholder: 'ether1' },
          { id: 'pool', label: 'Ù†Ø·Ø§Ù‚ IPv6', placeholder: '2001:db8::/64' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/ipv6 pool\n';
          entries.forEach((params, index) => {
            const pool = params.pool || `2001:db8::${index}/64`;
            script += `add name=pool${index + 1} prefix=${pool}\n`;
          });
          script += '/ipv6 dhcp-server\n';
          entries.forEach((params, index) => {
            const interface = params.interface || `ether${index + 1}`;
            script += `add name=dhcpv6${index + 1} interface=${interface} address-pool=pool${index + 1}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'scheduled-script': {
        description: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø³ÙƒØ±Ø¨Øª Ù…Ø¬Ø¯ÙˆÙ„',
        inputs: [
          { id: 'name', label: 'Ø§Ø³Ù… Ø§Ù„Ø³ÙƒØ±Ø¨Øª', placeholder: 'script1' },
          { id: 'interval', label: 'Ø§Ù„ÙØ§ØµÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ', placeholder: '1h' },
          { id: 'command', label: 'Ø§Ù„Ø£Ù…Ø±', placeholder: '/system reboot' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/system scheduler\n';
          entries.forEach((params, index) => {
            const name = params.name || `script${index + 1}`;
            const interval = params.interval || '1h';
            const command = params.command || '/system reboot';
            script += `add name=${name} interval=${interval} on-event="${command}"\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'backup-script': {
        description: 'Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ',
        inputs: [
          { id: 'name', label: 'Ø§Ø³Ù… Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', placeholder: 'backup1' }
        ],
        repeatable: true,
        script: function(entries) {
          let script = '/system backup\n';
          entries.forEach((params, index) => {
            const name = params.name || `backup${index + 1}`;
            script += `save name=${name}\n`;
          });
          script += '# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª';
          return script;
        }
      },
      'general': {
        description: 'Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ø§Ù…Ø© Ù„Ø£Ø³Ø¦Ù„Ø© MikroTik',
        inputs: [
          { id: 'question', label: 'Ø§Ù„Ø³Ø¤Ø§Ù„', placeholder: 'Ù…Ø«Ø§Ù„: ÙƒÙŠÙ Ø£Ø¶Ø¨Ø· VLANØŸ' }
        ],
        repeatable: false,
        script: function(params) {
          const question = params.question || '';
          return `Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù† Ø¯ÙƒØªÙˆØ± Ù†Øª Ù„Ø³Ø¤Ø§Ù„Ùƒ: ${question}
Ù…Ø«Ø§Ù„: Ù„Ø¥Ø¹Ø¯Ø§Ø¯ VLANØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù…Ø±: /interface vlan add name=vlan10 vlan-id=10 interface=ether1.
# Ø§Ù„Ù…ØµØ¯Ø±: Ø¯ÙƒØªÙˆØ± Ù†Øª`;
        }
      }
    };

    const toolSelect = document.getElementById('tool');
    const inputsDiv = document.getElementById('inputs');
    const submitButton = document.getElementById('submit');
    const errorText = document.getElementById('error');
    const answerDiv = document.getElementById('answer');
    const answerText = document.getElementById('answer-text');
    const copyButton = document.getElementById('copy');
    const sidebarLinks = document.querySelectorAll('.sidebar a');

    function renderInputs(tool) {
      inputsDiv.innerHTML = '';
      const data = toolsDatabase[tool];
      if (data && data.inputs) {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'input-group';
        groupDiv.id = `input-group-0`;
        data.inputs.forEach(input => {
          const label = document.createElement('label');
          label.textContent = input.label;
          const inputElement = document.createElement('input');
          inputElement.type = 'text';
          inputElement.id = `${input.id}-0`;
          inputElement.placeholder = input.placeholder;
          groupDiv.appendChild(label);
          groupDiv.appendChild(inputElement);
        });
        if (data.repeatable) {
          const removeBtn = document.createElement('button');
          removeBtn.className = 'remove-btn';
          removeBtn.textContent = 'Ø¥Ø²Ø§Ù„Ø©';
          removeBtn.style.display = 'none';
          removeBtn.onclick = () => groupDiv.remove();
          groupDiv.appendChild(removeBtn);
        }
        inputsDiv.appendChild(groupDiv);

        if (data.repeatable) {
          const addBtn = document.createElement('button');
          addBtn.className = 'add-btn';
          addBtn.textContent = 'Ø¥Ø¶Ø§ÙØ© Ø®Ø·';
          addBtn.onclick = () => {
            const index = inputsDiv.querySelectorAll('.input-group').length;
            const newGroup = document.createElement('div');
            newGroup.className = 'input-group';
            newGroup.id = `input-group-${index}`;
            data.inputs.forEach(input => {
              const label = document.createElement('label');
              label.textContent = input.label;
              const inputElement = document.createElement('input');
              inputElement.type = 'text';
              inputElement.id = `${input.id}-${index}`;
              inputElement.placeholder = input.placeholder;
              newGroup.appendChild(label);
              newGroup.appendChild(inputElement);
            });
            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-btn';
            removeBtn.textContent = 'Ø¥Ø²Ø§Ù„Ø©';
            removeBtn.onclick = () => newGroup.remove();
            newGroup.appendChild(removeBtn);
            inputsDiv.appendChild(newGroup);
          };
          inputsDiv.appendChild(addBtn);
        }
      }
    }

    toolSelect.addEventListener('change', () => {
      renderInputs(toolSelect.value);
    });

    sidebarLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const tool = link.getAttribute('data-tool');
        toolSelect.value = tool;
        renderInputs(tool);
      });
    });

    function handleSubmit() {
      const tool = toolSelect.value;
      const data = toolsDatabase[tool];
      if (!data) {
        errorText.textContent = 'Ø§Ù„Ø£Ø¯Ø§Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©';
        errorText.style.display = 'block';
        return;
      }

      let entries = [];
      if (data.inputs) {
        if (data.repeatable) {
          const groups = inputsDiv.querySelectorAll('.input-group');
          if (groups.length === 0) {
            errorText.textContent = 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø®Ø· ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';
            errorText.style.display = 'block';
            return;
          }
          groups.forEach((group, index) => {
            const params = {};
            data.inputs.forEach(input => {
              const value = document.getElementById(`${input.id}-${index}`)?.value.trim();
              if (!value && tool !== 'general') {
                errorText.textContent = `ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø­Ù‚Ù„ ${input.label} ÙÙŠ Ø§Ù„Ø®Ø· ${index + 1}`;
                errorText.style.display = 'block';
                return;
              }
              params[input.id] = value;
            });
            entries.push(params);
          });
        } else {
          const params = {};
          data.inputs.forEach(input => {
            const value = document.getElementById(`${input.id}-0`)?.value.trim();
            if (!value && tool !== 'general') {
              errorText.textContent = `ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø­Ù‚Ù„ ${input.label}`;
              errorText.style.display = 'block';
              return;
            }
            params[input.id] = value;
          });
          entries = [params];
        }
      }

      errorText.style.display = 'none';
      submitButton.disabled = true;
      submitButton.textContent = 'Ø¬Ø§Ø±Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...';
      answerDiv.style.display = 'none';

      try {
        const response = data.repeatable ? data.script(entries) : data.script(entries[0]);
        answerText.value = response;
        answerDiv.style.display = 'block';
      } catch (error) {
        errorText.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨';
        errorText.style.display = 'block';
      } finally {
        submitButton.disabled = false;
        submitButton.textContent = 'Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª';
      }
    }

    submitButton.addEventListener('click', handleSubmit);
    submitButton.addEventListener('touchstart', (e) => {
      e.preventDefault();
      handleSubmit();
    });

    copyButton.addEventListener('click', () => {
      answerText.select();
      try {
        document.execCommand('copy');
        copyButton.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
        setTimeout(() => {
          copyButton.textContent = 'Ù†Ø³Ø® Ø§Ù„Ø³ÙƒØ±Ø¨Øª';
        }, 2000);
      } catch (error) {
        errorText.textContent = 'ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠÙ‹Ø§.';
        errorText.style.display = 'block';
      }
    });

    copyButton.addEventListener('touchstart', (e) => {
      e.preventDefault();
      answerText.select();
      try {
        document.execCommand('copy');
        copyButton.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
        setTimeout(() => {
          copyButton.textContent = 'Ù†Ø³Ø® Ø§Ù„Ø³ÙƒØ±Ø¨Øª';
        }, 2000);
      } catch (error) {
        errorText.textContent = 'ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠÙ‹Ø§.';
        errorText.style.display = 'block';
      }
    });

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    renderInputs(toolSelect.value);
  </script>
</body>
</html>